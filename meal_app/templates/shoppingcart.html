{% extends "layout.html" %}
{% block content %}
<head>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<style>
    .cart_body {
        margin-top: 10%;
    }
    .cart_body details:hover {
        color: rgb(77, 77, 77);
        cursor: pointer;
    }
    .cart_body details {
        summary {
            font-family:"Garamond", serif;
            padding-bottom: 5px;
            font-weight: 500;
            font-size: 18px;
            list-style: none;
        }
    }
    .cart_body form i {
        color: rgb(236, 236, 236);
        position: absolute;
        z-index: 2;
        font-size: 20px;
        bottom: 3.2em;
        left: 14.5em;
    }
    .ingredient {
        display: grid;
        grid-template-columns: repeat(2, 1fr); 
        text-align: left;
        margin-top: -50px;
        margin-left: 19px;
        padding: 0 30px 3em 30px;
        border: 2px solid black;
        column-gap: 3rem;
    }
    .ingredient .ingre_list{
        list-style: none;
        margin-bottom: 0;
        .sub_list{
            margin: -20px 0 0 -15px;
            list-style: '-';
            font-size: 20px;
            color: grey;
        }
    }
    .sub_list li {
        margin-bottom: -20px;
    }
    .cart_body .wrapper {
        width: 43em;
        .Submit{
            position: absolute;
            width: 20em;
            left: 28%;
            height: 50px;
            font-size: 17px;
        }
    }
    .boughtCheck {
        position: absolute;
        transform: translate(-30px, -2px);
        zoom: 1.5;
    }
    .line {
        border: 2px solid black;
    }
</style>
{% if errorMessage %}
<script type="text/javascript">window.setTimeout("document.getElementById('notification').style.display='none';", 4000); </script>
        <div id="notification" style="background-color: rgb(255, 89, 89);" class="notification"><p>{{ errorMessage }}</p></div>
        {% endif %}
        {% if successMessage %}
        <div id="notification" class="notification"><p>{{ successMessage }}</p></div>
        {% endif %}
<div class="cart_body">
    <div class="wrapper">
        
        <h2>Shopping Cart<h2>

        
        <div class="ingredient">
            
            {% for precessed_item in result %}
            <ul class="ingre_list">
                <input type="checkbox" class="boughtCheck">
                
                <details>
                    <summary>
                        {{ precessed_item.quantity }} {{ precessed_item.measure }} {{ precessed_item.food }}
                    </summary>
                <li>
                    <ul class="sub_list">
                        {% for recipe in precessed_item.recipe %}
                            <li><p style="color: grey;"> {{ recipe }}</p></li>
                        {% endfor %}
                    </ul>   
                </li>
                </details>
                <div class="line"></div>
            </ul>
            {% endfor %}
        </div>
       
        <br>
        <form action="{{ url_for('download_pdf') }}" method="POST">
            <i class='bx bx-download'></i>
            <input type="submit" class="Submit" value="Save as PDF">
        </form>            
    </div>
</div>



{% endblock %}