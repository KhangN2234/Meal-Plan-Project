{% extends "layout.html" %}
{% block content %}
<style>
    .day_box {
        display: grid;
        grid-template-columns: repeat(2, 1fr); 
        gap: 2rem;
        input {
            display: none;
        }
        .wrapper {
            height: 25em;
            width: 25em;
        }
    }

    .day_box .wrapper:hover {
        border-color: aqua;
        cursor: pointer;
    }

    .day_box input:checked + label .wrapper {
        border-color: aqua;
        box-shadow: 0 0 10px black;
    }

    .day_box :last-child {
        justify-self: center;
        grid-column-start: span 2;
    }
</style>
<form action="{{ url_for('calendar') }}" method="POST">

    <h2>Calendar</h2>

    <!-- Hidden fields to pass the recipe details with the form -->
    <input type="hidden" name="recipe_label" value="{{ recipe_label }}">
    <input type="hidden" name="recipe_url" value="{{ recipe_url }}">

    {%if recipe_label != None%}
    <label for="recipe_name">Recipe Name:</label>
    <a href="{{ recipe_url }}"> {{ recipe_label }}</a><br><br>

    <p> Select the days you want to add the recipe to: </p>
    <br>
    {% endif %}


    <div class="day_box">
        <input type="checkbox" id="Monday" name="selected_days" value="Monday">
        <label for="Monday">
            <div class="wrapper">
                <h2>Monday</h2>
                <ul>
                    {% for recipe in recipes_list %}
                    {% if 'Monday' in recipe. days %}
                    <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                    {% endif %}
                    {% endfor %}
                </ul>
            </div>
        </label>
    
    <input type="checkbox" id="Tuesday" name="selected_days" value="Tuesday">
    <label for="Tuesday">
        <div class="wrapper">
            <h2>Tuesday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Tuesday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Wednesday" name="selected_days" value="Wednesday">
    <label for="Wednesday">
        <div class="wrapper">
            <h2>Wednesday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Wednesday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Thursday" name="selected_days" value="Thursday">
    <label for="Thursday">
        <div class="wrapper">
            <h2>Thursday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Thursday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Friday" name="selected_days" value="Friday">
    <label for="Friday">
        <div class="wrapper">
            <h2>Friday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Friday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Saturday" name="selected_days" value="Saturday">
    <label for="Saturday">
        <div class="wrapper">
            <h2>Saturday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Saturday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Sunday" name="selected_days" value="Sunday">
    <label for="Sunday">
        <div class="wrapper">
            <h2>Sunday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Sunday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>
</div>
    {%if recipe_label != None%}
    <button type="submit"> Add Recipe to Selected Day(s)</button>
    {% endif %}

</form>
{% endblock %}