{% extends "layout.html" %}
{% block content %}
<form action="/calendar" method="POST">

<h2>Calendar</h2>

<!-- Hidden fields to pass the recipe details with the form -->
<input type="hidden" name="recipe_label" value="{{ recipe_label }}">
<input type="hidden" name="recipe_url" value="{{ recipe_url }}">

{%if recipe_label != None%}
{%if selected_days == []%}
<style>
    .day_box .wrapper:hover {
        border-color: #38a0cf;
        cursor: pointer;
        .output {
            border-bottom-color: #46c4ff;
        }
        box-shadow: 0 3px 7px;
        transition: 0.2s;
        transform: translateY(-3px)
    }

    .day_box input:checked + label .wrapper {
        border-color: #38a0cf;
        box-shadow: 0 0 10px #38a0cf;
        transform: translateY(-3px)
    }

    .if_calendar {
        text-align: center;
        font-size: 24px;
        margin-top: -5%;
        p {
            font-size: 24px;
        }
        .submit_btn {
            margin-bottom: 5%;
            width: 200px;
            float: right;
        }
    }
</style>

<div class = "if_calendar">
    <label for="recipe_name">Recipe Name:</label>
    <a href="{{ recipe_url }}"> {{ recipe_label }}</a><br><br>

    <p> Select the days you want to add the recipe to: </p>
    <br>
    <button type="submit" class="submit_btn"> Add Recipe</button>
</div>
{%endif%}
{% endif %}

{% for message in get_flashed_messages() %}
    <script type="text/javascript">window.setTimeout("document.getElementById('successMessage').style.display='none';", 4000); </script>
    <div id="successMessage" class="notification"><p>{{message}}</p></div>
{% endfor %}

<div class="day_box">
    <input type="checkbox" id="Monday" name="selected_days" value="Monday">
    <label for="Monday">
        <div class="wrapper">
            <h2 class="output">Monday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Monday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Tuesday" name="selected_days" value="Tuesday">
    <label for="Tuesday">
        <div class="wrapper">
            <h2 class="output">Tuesday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Tuesday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Wednesday" name="selected_days" value="Wednesday">
    <label for="Wednesday">
        <div class="wrapper">
            <h2 class="output">Wednesday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Wednesday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Thursday" name="selected_days" value="Thursday">
    <label for="Thursday">
        <div class="wrapper">
            <h2 class="output">Thursday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Thursday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Friday" name="selected_days" value="Friday">
    <label for="Friday">
        <div class="wrapper">
            <h2 class="output">Friday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Friday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Saturday" name="selected_days" value="Saturday">
    <label for="Saturday">
        <div class="wrapper">
            <h2 class="output">Saturday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Saturday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>

    <input type="checkbox" id="Sunday" name="selected_days" value="Sunday">
    <label for="Sunday">
        <div class="wrapper">
            <h2 class="output">Sunday</h2>
            <ul>
                {% for recipe in recipes_list %}
                {% if 'Sunday' in recipe. days %}
                <li><a href='{{ recipe. url }}'> {{ recipe. label }}</a><br></li>
                {% endif %}
                {% endfor %}
            </ul>
        </div>
    </label>
</div>
</form>
{% endblock %}